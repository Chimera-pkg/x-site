<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Document</title>
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@300;600;700;800&display=swap" />
  <link rel="stylesheet" href="../infradetail.css" />
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <style>
    /* (Tambahkan gaya CSS tambahan jika diperlukan) */
    .popup {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      padding: 80px;
      background-color: white;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
      z-index: 1000;
    }

    .temp {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      padding: 80px;
      background-color: white;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
      z-index: 1000;
    }

    #successIndicator {
      display: none;
      color: green;
      font-weight: bold;
      margin-top: 10px;
    }
  </style>
  <script>
    // script.js
    function showPopup() {
      var popup = document.getElementById("myPopup");
      popup.style.display = "block";
    }
    function showTemp() {
      var popup = document.getElementById("myTemp");
      popup.style.display = "block";
    }

    // Fungsi untuk menyembunyikan popup
    function scanTemp() {
      var popup = document.getElementById("myPopup");
      popup.style.display = "none";

      // Get the selected values from the dropdowns
      var iterasiValue = document.getElementById("iterasiDropdown").value;
      var delayValue = document.getElementById("delayDropdown").value;
      var tempValue = element.textContent.trim();

      // Log the value to the console
      console.log("Temp Value: " + tempValue);

      // Check if the elements were found
      if (iterasiValue !== null && delayValue !== null) {
        // You can now use iterasiValue and delayValue as needed
        console.log("Iterasi Value: " + iterasiValue);
        console.log("Delay Value: " + delayValue);
        console.log("Temp Value: " + tempValue);


        // Add your logic to send the values to the server or perform any other action
      } else {
        console.error("One or both dropdowns not found");
      }

    }
    function hideTemp() {
      var temp = document.getElementById("myTemp");
      temp.style.display = "none";
    }

    function updateTemperature() {
      // Get the input value
      var temperatureInput = document.getElementById("temperatureInput").value;

      // Update the displayed temperature
      var dynamicTemperature = document.getElementById("dynamicTemperature");
      dynamicTemperature.textContent = temperatureInput + "°C";
    }

    function sendTemperature() {
      // Get the input value
      var temperatureInput = document.getElementById("temperatureInput").value;

      // Update the displayed temperature
      var dynamicTemperature = document.getElementById("dynamicTemperature");
      dynamicTemperature.textContent = temperatureInput + "°C";

      // Send the temperature to Arduino (replace the URL with your Arduino server endpoint)
      fetch('http://your-arduino-ip-address/update?temperature=' + temperatureInput, {
        method: 'GET',
        mode: 'cors',
        headers: {
          'Content-Type': 'application/json',
          // Add any additional headers if needed
        },
      })
        .then(response => response.json())
        .then(data => console.log(data))
        .catch(error => console.error('Error:', error));
    }

    function showTemper(element) {
      if (!element) {
        console.error("Element is undefined");
        return;
      }

      // Rest of your code
      var nameAttribute = element.getAttribute("name");
      var typeAttribute = element.getAttribute("type");
      var valueAttribute = element.getAttribute("value");

      // Logging the attributes in the console
      console.log("Name Attribute:", nameAttribute);
      console.log("Type Attribute:", typeAttribute);
      console.log("Value Attribute:", valueAttribute);
    }

    function scanTemp() {
    // Call the showTemper function with a specific element (replace with your actual element)
    var exampleElement = document.getElementById("tempValue");
    showTemper(exampleElement);
    
    // Additional logic for scanTemp if needed
  }
  </script>
</head>

<body>
  <div class="main-container">
    <div class="box">
      <div class="box-2"></div>
      <div class="pic"></div>
      <div class="group">
        <div class="img"></div>
      </div>
      <div class="group-2">
        <div class="img-2"></div>
      </div>
      <div class="group-3">
        <div class="img-3"></div>
      </div>
      <div class="wrapper">
        <div class="pic-2"></div>
      </div>
      <div class="box-3">
        <div class="pic-3"></div>
      </div>
    </div>
    <div class="wrapper-2">
      <a href="javascript:history.back()">
        <div class="img-4"></div>
      </a>
      <span class="text">IR Configure</span>
    </div>
    <div class="wrapper-3">
      <div class="wrapper-4"></div>
      <span class="text-2">Air Conditioner 1</span>
      <span class="text-3" onclick="showPopup()">ON</span>
      <span class="text-4" onclick="showPopup()">OFF</span>
      <!-- isi Pop up -->
      <div id="myPopup" class="popup">

        <head>
          PARAMETER SETTING
        </head>

        <body>

          <p>Iterasi</p>
          <select class="dropdown" id="iterasiDropdown">
            <option value="" disabled selected>--Pilih Jumlah Iterasi--</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <!-- Tambahkan opsi sesuai kebutuhan -->
          </select>
          <p>Delay</p>
          <select class="dropdown" id="delayDropdown" name="temp" type="text">
            <option value="" disabled selected>--Pilih Waktu Delay--</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
          </select>
          <div>
            <button onclick="scanTemp()">Scan</button>
          </div>
      </div>
</body>
<!-- end of pop up -->
<div class="pic-4"></div>
<div class="pic-5"></div>
<div class="pic-6"></div>


<div>
  <label for="temperatureInput">Input Temperature:</label>
  <input type="number" id="temperatureInput" placeholder="temperature">
  <button onclick="sendTemperature()">Send to Arduino</button>
</div>
<div class="group-4">
  <span id="" class="text-5" onclick="showTemp()">50°C</span>
</div>
<div class="section">
  <span class="text-8" onclick="showTemp()">17°C</span>
</div>
<div class="group-5">
  <span class="text-b" onclick="showTemp()">18°C</span>
</div>
<div class="img-5"></div>
<div class="img-6"></div>
<div class="pic-7"></div>
<div class="wrapper-5">
  <span class="text-e" onclick="showTemp()">19°C</span>
</div>
<div class="group-6">
  <span class="text-11" onclick="showTemp()">20°C</span>
</div>
<div class="wrapper-6">
  <span class="text-14" onclick="showTemp()">21°C</span>
</div>
<div class="img-7"></div>
<div class="pic-8"></div>
<div class="pic-9"></div>
<div class="group-7">
  <span class="text-17" onclick="showTemper(this)" id="tempValue" type="text" value="100">50°C</span>
</div>
<div class="group-8">
  <span class="text-1a" onclick="showTemp()" id="tempValue">22°C</span>
</div>
<div class="wrapper-7">
  <span class="text-1d" onclick="showTemp()">24°C</span>
</div>
<div class="wrapper-8">
  <span class="text-20" onclick="showTemp()">16°C</span>
</div>
<div class="img-8"></div>
<div class="img-9"></div>
<div class="img-a"></div>
<div class="group-9">
  <span class="text-23" onclick="showTemp()">26°C</span>
</div>
<div class="group-a">
  <span class="text-26" onclick="showTemp()">25°C</span>
</div>
<div class="box-4">
  <span class="text-29" onclick="showTemp()">27°C</span>
</div>
<div class="img-b"></div>
<div class="img-c"></div>
<div class="img-d"></div>
<div class="box-5">
  <span class="text-2c" onclick="showTemp()">28°C</span>
</div>
<div class="group-b">
  <span class="text-2f" onclick="showTemp()">29°C</span>
</div>
<div class="section-2">
  <span class="text-32" onclick="showTemp()">30°C</span>
</div>
<span class="text-35">© X-CAMP 2023</span>
</div>
<div class="img-e"></div>
<div class="section-3"></div>
<div class="box-6"></div>
</div>
<div>
  <label for="temperatureInput">Input Temperature:</label>
  <input type="number" id="temperatureInput" placeholder="temperature">
  <button onclick="updateTemperature()">Update</button>
</div>
<!-- pop up suhu -->
<div id="myTemp" class="temp">

  <body>
    <div>
      <button onclick="scanTemp()">Scan</button>
      <!-- Add the success indicator element -->
      <div id="successIndicator">Scan berhasil!</div>
    </div>
</div>
</body>
<!-- end off pop up suhu  -->
</body>

</html>